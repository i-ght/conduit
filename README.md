data structure for sending messages across threads

Inspired by: /tylertreat/chan
